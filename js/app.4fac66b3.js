(function(t){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],u=0,g=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&g.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(g.length)g.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],r=!0,a=1;a<i.length;a++){var c=i[a];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var r={},n={app:0},o=[];function a(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"29a23f45"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise((function(e,r){i=n[t]=[e,r]}));e.push(i[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var i=n[t];if(0!==i){if(i){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,i[1](l)}n[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-image-editor/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"05bb":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-select",{staticClass:"ml-4",staticStyle:{"max-width":"200px"},attrs:{value:t.value,items:t.items,dense:"",solo:"","menu-props":"auto","hide-details":"",label:"strokeWidth"},on:{input:function(e){return t.$emit("input",e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var r=e.item,n=e.on,o=e.attrs;return[i("v-list-item",t._g(t._b({attrs:{ripple:"",dense:""}},"v-list-item",o,!1),n),[i("v-list-item-action",{staticClass:"my-0"},[i("div",{style:[t.strokeStyle(r.value)]})]),i("v-list-item-content",{domProps:{textContent:t._s(r.text)}})],1)]}},{key:"item",fn:function(e){var r=e.item,n=e.on,o=e.attrs;return[i("v-list-item",t._g(t._b({attrs:{ripple:"",dense:""}},"v-list-item",o,!1),n),[i("v-list-item-action",{staticClass:"my-0"},[i("div",{style:[t.strokeStyle(r.value)]})]),i("v-list-item-content",{domProps:{textContent:t._s(r.text)}})],1)]}}])})},n=[]},"0d249":function(t,e,i){"use strict";var r=i("76ea"),n=i("f768"),o=i("2877"),a=i("6544"),s=i.n(a),c=i("8336"),l=i("b0af"),u=i("99d9"),d=i("169a"),g=i("132d"),h=i("8860"),f=i("da13"),m=i("5d23"),A=i("c73b"),p=i("e0c7"),v=Object(o["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=v.exports,s()(v,{VBtn:c["a"],VCard:l["a"],VCardActions:u["a"],VCardText:u["b"],VDialog:d["a"],VIcon:g["a"],VList:h["a"],VListItem:f["a"],VListItemContent:m["a"],VListItemTitle:m["b"],VSpeedDial:A["a"],VSubheader:p["a"]})},"261b":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{value:t.value,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},on:{input:function(e){return t.$emit("input",t.value)}}},[i("v-card",{staticClass:"d-flex flex-column fill-height",attrs:{tile:""}},[i("v-toolbar",{staticStyle:{"max-height":"64px"},attrs:{dark:"",color:"primary"}},[t.titleSlot?[t._t("title")]:[i("v-toolbar-title",[t._v("Image editor")])],i("v-spacer"),i("v-btn",{attrs:{dark:"",disabled:t.saveBtnIsDisabled},on:{click:function(e){return t.$emit("save-image",e)}}},[t._v(" save ")]),i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeDialog}},[i("v-icon",[t._v("mdi-close")])],1)],2),t._t("actions-toolbar"),i("v-sheet",{staticClass:"d-flex justify-center",staticStyle:{position:"relative",height:"-webkit-fill-available"},attrs:{id:"konva-stage-wrapper",color:"#e0e0e0"}},[t._t("main-stage-wrapper")],2)],2)],1)},n=[]},3699:function(t,e,i){"use strict";var r=i("fc03"),n=i("b883"),o=i("2877"),a=i("6544"),s=i.n(a),c=i("b0af"),l=i("99d9"),u=i("169a"),d=i("8e36"),g=Object(o["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=g.exports,s()(g,{VCard:c["a"],VCardText:l["b"],VDialog:u["a"],VProgressLinear:d["a"]})},4705:function(t,e,i){"use strict";var r=i("05bb"),n=i("eed0"),o=i("2877"),a=i("6544"),s=i.n(a),c=i("da13"),l=i("1800"),u=i("5d23"),d=i("b974"),g=Object(o["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=g.exports,s()(g,{VListItem:c["a"],VListItemAction:l["a"],VListItemContent:u["a"],VSelect:d["a"]})},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("navbar"),i("v-main",[i("v-container",{attrs:{fluid:""}},[i("router-view")],1)],1)],1)},o=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[i("div",{staticClass:"d-flex align-center"},[i("router-link",{attrs:{to:"/"}},[i("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}})],1)],1),i("v-spacer"),t._l(t.Routes,(function(e,r){return i("v-btn",{key:r,staticClass:"mx-1",attrs:{dark:"",to:e.path,link:"",text:""}},[t._v(" "+t._s(e.name)+" ")])}))],2)},s=[],c={computed:{Routes:function(){return this.$router.options.routes}}},l=c,u=i("2877"),d=i("6544"),g=i.n(d),h=i("40dc"),f=i("8336"),m=i("adda"),A=i("2fa4"),p=Object(u["a"])(l,a,s,!1,null,null,null),v=p.exports;g()(p,{VAppBar:h["a"],VBtn:f["a"],VImg:m["a"],VSpacer:A["a"]});var b={name:"App",components:{Navbar:v},data:function(){return{}}},y=b,x=i("7496"),w=i("a523"),k=i("f6c4"),S=Object(u["a"])(y,n,o,!1,null,null,null),_=S.exports;g()(S,{VApp:x["a"],VContainer:w["a"],VMain:k["a"]});var P=i("f309");r["default"].use(P["a"]);var C=new P["a"]({}),I=i("7591"),E=i.n(I),M=(i("d3b7"),i("3ca3"),i("ddb0"),i("8c4f")),j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",[t.imageEditorModel?i("image-editor",{attrs:{src:t.img},on:{"save-image":t.imageEditorUpdateImage},model:{value:t.imageEditorModel,callback:function(e){t.imageEditorModel=e},expression:"imageEditorModel"}}):t._e(),i("v-col",{staticClass:"mx-auto",attrs:{sm:"6"}},[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[i("v-sheet",{staticClass:"mx-auto d-flex flex-column justify-center"},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.img,staticClass:"rounded ma-5 elevation-5 image-thumb align-self-center",attrs:{"max-width":t.isMobile?"80vw":400,"max-height":"80vh","min-width":"200",contain:"",src:t.img},on:{click:t.showPhotoInfoDialog}},[i("v-scale-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:r||t.isMobile,expression:"hover || isMobile"}],staticClass:"pa-1",staticStyle:{position:"absolute",top:"0",right:"0","z-index":"1"}},[i("v-btn",{staticClass:"ma-1 pa-1",attrs:{color:"blue",fab:"",dark:"","x-small":"",title:"edit image"},on:{click:function(e){return e.stopPropagation(),t.showPhotoInfoDialog.apply(null,arguments)}}},[i("v-icon",{domProps:{textContent:t._s("mdi-clipboard-edit-outline")}})],1)],1)])],1),i("v-file-input",{attrs:{label:"select img file",rules:t.validatorRules,accept:"image/jpg, image/jpeg","prepend-icon":"mdi-camera","small-chips":"",outlined:"","show-size":"",name:"uploadedImages"},on:{change:t.fileInputChangeHandler}})],1)]}}])})],1)],1)},D=[],B=(i("2b3d"),i("9861"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("image-editor-wrapper",{staticStyle:{position:"relative"},attrs:{"save-btn-is-disabled":!Object.values(t.stepsHistory).length},on:{"close-dialog":function(e){return t.$emit("input",!1)},"save-image":t.saveImage},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[i("template",{slot:"title"},[i("span",[t._v("image edit")])]),i("template",{slot:"actions-toolbar"},[i("action-toolbar",{attrs:{"canva-mode":t.canva_mode,"figures-pre-settings":t.figuresPreSettings,color:t.color,"is-history":!!Object.values(t.stepsHistory).length,"is-image":!!t.imageConfig.image},on:{"change-mode":function(e){t.canva_mode=e},"change-color":function(e){t.color=e},"reset-btn-click":t.resetCanva,"undo-btn-click":t.undoCanva,rotate:t.imageRotation}})],1),i("template",{slot:"main-stage-wrapper"},[i("speed-dial-settings",{attrs:{"is-image-loading":t.isImageLoading,"list-items":t.shortUsageTutorial},on:{"image-save":function(e){return t.imageSave(e)}},model:{value:t.speedDial,callback:function(e){t.speedDial=e},expression:"speedDial"}}),i("image-loader-dialog",{model:{value:t.isImageLoading,callback:function(e){t.isImageLoading=e},expression:"isImageLoading"}}),t.configKonva.isInited?i("v-stage",t._g({ref:"stage",style:[t.imageConfig.isLoaded?t.konvaStageStyle:""],attrs:{config:t.configKonva}},t.konvaEvents.reduce((function(e,i){return e[i]=t.enventsHandlerSwitcher,e}),{})),[i("v-layer",{ref:"mainLayer"},[i("v-image",{ref:"baseimage",attrs:{config:t.imageConfig},on:{dblclick:function(e){return t.imageDblClickEnventHandlerImage(e)}}}),t.selectedArea?i("v-rect",{ref:"selected-area",attrs:{config:{x:Math.min(t.selectedArea.startPointX,t.selectedArea.startPointX+t.selectedArea.width),y:Math.min(t.selectedArea.startPointY,t.selectedArea.startPointY+t.selectedArea.height),width:Math.abs(t.selectedArea.width),height:Math.abs(t.selectedArea.height),fill:"rgb(0,0,0,0)",stroke:"rgb(0,0,0,1)",strokeWidth:.5,dash:[10,5]}}}):t._e(),t._l(t.brushArr,(function(e){return i("v-line",{key:e.id,ref:e.id,refInFor:!0,attrs:{config:e},on:{click:function(i){return t.currSelectedShapeSet(e.id)}}})})),t._l(t.vectorArr,(function(e){return i("v-line",{key:e.id,ref:e.id,refInFor:!0,attrs:{config:e},on:{click:function(i){return t.currSelectedShapeSet(e.id)}}})})),t._l(t.arrowArr,(function(e){return i("v-arrow",{key:e.id,ref:e.id,refInFor:!0,attrs:{config:e},on:{click:function(i){return t.currSelectedShapeSet(e.id)}}})})),t._l(t.rectArr,(function(e){return i("v-rect",{key:e.id,ref:e.id,refInFor:!0,attrs:{config:Object.assign({},e,{x:Math.min(e.startPointX,e.startPointX+e.width),y:Math.min(e.startPointY,e.startPointY+e.height),width:Math.abs(e.width),height:Math.abs(e.height)})},on:{click:function(i){return t.currSelectedShapeSet(e.id)}}})})),t._l(t.circleArr,(function(e){return i("v-circle",{key:e.id,ref:e.id,refInFor:!0,attrs:{config:e},on:{click:function(i){return t.currSelectedShapeSet(e.id)}}})})),t._l(t.textArr,(function(e){return i("v-text",{key:e.id,ref:e.id,refInFor:!0,staticStyle:{cursor:"pointer"},attrs:{config:e},on:{click:function(i){return t.currSelectedShapeSet(e.id)},mouseenter:function(e){t.stage.content.style.cursor="move"},mouseleave:function(e){t.stage.content.style.cursor="default"},dragstart:function(e){t.isDragging=!0},dragend:function(e){t.isDragging=!1},dblclick:function(e){return t.textEdit(e,t.index)},dbltap:function(e){return t.textEdit(e,t.index)}}})}))],2)],1):t._e(),i("v-scale-transition",[t.isTextediting?i("v-textarea",{ref:"stageTextarea",style:[t.inputEditText.style],attrs:{"background-color":"rgba(224,224,224,.75)","hide-details":"","auto-grow":"",autofocus:"",outlined:"",rows:"1"},on:{keydown:t.textInputEditKeydownEventHandler,blur:t.textInputBlur},model:{value:t.inputEditText.value,callback:function(e){t.$set(t.inputEditText,"value",e)},expression:"inputEditText.value"}}):t._e()],1),i("debag-block",{attrs:{"debag-collection":[t.stepsHistory,t.configKonva]}},[t._v(" >")])],1)],2)}),V=[],T=i("2909"),O=i("5530"),L=i("51f5"),H=i.n(L),$=i("d623"),W=i.n($),Q=i("2769"),R=i.n(Q),F=i("4416"),N=i.n(F),z=i("13ea"),U=i.n(z),Y=(i("d81d"),i("ac1f"),i("5319"),i("99af"),i("a434"),i("4de4"),i("362d")),Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{attrs:{dense:"",extended:"","extension-height":"54","align-center":""},scopedSlots:t._u([{key:"extension",fn:function(){return[i("div",{staticClass:"d-flex align-center flex-wrap flex-grow-1 px-2",staticStyle:{margin:"-16px","border-top":"#bdbdbd 1px solid",height:"100%"}},[t.showImageSetting?[i("v-btn",{attrs:{text:"",tile:"",dense:"",title:"rotate left",disabled:!t.isImage},on:{click:function(e){return t.$emit("rotate",-90)}}},[i("v-icon",{domProps:{textContent:t._s("mdi mdi-rotate-left")}})],1),i("v-btn",{attrs:{text:"",tile:"",title:"rotate right",disabled:!t.isImage},on:{click:function(e){return t.$emit("rotate",90)}}},[i("v-icon",{domProps:{textContent:t._s("mdi mdi mdi-rotate-right")}})],1)]:t._e(),"brush"==t.canvaMode?[i("v-select-stroke",{attrs:{items:t.strokeWidth,"stroke-color":t.color,strokeCircle:!0},model:{value:t.figuresPreSettings.brush.strokeWidth,callback:function(e){t.$set(t.figuresPreSettings.brush,"strokeWidth",e)},expression:"figuresPreSettings.brush.strokeWidth"}})]:"vector"==t.canvaMode?[i("v-select-stroke",{attrs:{items:t.strokeWidth,"stroke-color":t.color},model:{value:t.figuresPreSettings.vector.strokeWidth,callback:function(e){t.$set(t.figuresPreSettings.vector,"strokeWidth",e)},expression:"figuresPreSettings.vector.strokeWidth"}})]:"arrow"==t.canvaMode?[i("v-select-stroke",{attrs:{items:t.strokeWidth,"stroke-color":t.color},model:{value:t.figuresPreSettings.arrow.strokeWidth,callback:function(e){t.$set(t.figuresPreSettings.arrow,"strokeWidth",e)},expression:"figuresPreSettings.arrow.strokeWidth"}})]:"rect"==t.canvaMode?[i("v-btn-toggle",{attrs:{dense:""},model:{value:t.figuresPreSettings.rect.filled,callback:function(e){t.$set(t.figuresPreSettings.rect,"filled",e)},expression:"figuresPreSettings.rect.filled"}},[i("v-btn",{attrs:{text:"",tile:"",value:!0}},[i("v-icon",{domProps:{textContent:t._s("mdi-rectangle")}})],1),i("v-btn",{attrs:{text:"",tile:"",value:!1}},[i("v-icon",{domProps:{textContent:t._s("mdi-rectangle-outline")}})],1)],1),i("v-select-stroke",{attrs:{items:t.strokeWidth,"stroke-color":t.color},model:{value:t.figuresPreSettings.rect.strokeWidth,callback:function(e){t.$set(t.figuresPreSettings.rect,"strokeWidth",e)},expression:"figuresPreSettings.rect.strokeWidth"}})]:"circle"==t.canvaMode?[i("v-btn-toggle",{attrs:{dense:""},model:{value:t.figuresPreSettings.circle.filled,callback:function(e){t.$set(t.figuresPreSettings.circle,"filled",e)},expression:"figuresPreSettings.circle.filled"}},[i("v-btn",{attrs:{text:"",tile:"",value:!0}},[i("v-icon",{domProps:{textContent:t._s("mdi-circle")}})],1),i("v-btn",{attrs:{text:"",tile:"",value:!1}},[i("v-icon",{domProps:{textContent:t._s("mdi-circle-outline")}})],1)],1),i("v-select-stroke",{attrs:{items:t.strokeWidth,"stroke-color":t.color},model:{value:t.figuresPreSettings.rect.strokeWidth,callback:function(e){t.$set(t.figuresPreSettings.rect,"strokeWidth",e)},expression:"figuresPreSettings.rect.strokeWidth"}})]:"text"==t.canvaMode?[i("v-btn-toggle",{attrs:{dense:"",multiple:""},model:{value:t.figuresPreSettings.text.textStyle,callback:function(e){t.$set(t.figuresPreSettings.text,"textStyle",e)},expression:"figuresPreSettings.text.textStyle"}},[i("v-btn",{attrs:{value:"bold"}},[i("v-icon",[t._v("mdi-format-bold")])],1),i("v-btn",{attrs:{value:"italic"}},[i("v-icon",[t._v("mdi-format-italic")])],1),i("v-btn",{attrs:{value:"underline"}},[i("v-icon",[t._v("mdi-format-underline")])],1)],1)]:t._e()],2)]},proxy:!0}])},[i("v-slide-group",{attrs:{value:t.canvaMode,"show-arrows":"",mandatory:""},on:{change:function(e){return t.$emit("change-mode",e)}}},[i("v-slide-item",[i("v-btn",{attrs:{text:"",tile:""},on:{click:function(e){t.showImageSetting=!0}}},[i("v-icon",{domProps:{textContent:t._s("mdi mdi-image")}})],1)],1),t._l(t.canva_modesArr,(function(e){return i("v-slide-item",{key:e.mode,attrs:{value:e.mode},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.active,o=r.toggle;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on,s=r.attrs;return[i("v-btn",t._g(t._b({staticClass:"ml-2",class:n?"primary":"",attrs:{text:"",tile:""},on:{click:o}},"v-btn",s,!1),a),[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1)]}}],null,!0)},[i("span",{domProps:{textContent:t._s(e.title)}})])]}}],null,!0)})})),i("v-slide-item",[i("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1,"nudge-width":200,left:"",value:t.colorPaletteIsShown},scopedSlots:t._u([{key:"activator",fn:function(e){return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){return[i("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{text:"",tile:""},on:{click:function(e){t.colorPaletteIsShown=!t.colorPaletteIsShown}}},"v-btn",Object.assign({},e.attrs,r.attrs),!1),Object.assign({},e.on,r.on)),[i("v-icon",{domProps:{textContent:t._s("mdi mdi-palette")}})],1)]}}],null,!0)},[i("span",{domProps:{textContent:t._s("Colors")}})])]}}])},[i("v-card",[i("v-color-picker",{attrs:{value:t.color,"dot-size":"30",mode:"hexa","show-swatches":"","swatches-max-height":"250"},on:{input:t.changeColor}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{small:"",icon:"",color:"success"},on:{click:function(e){t.colorPaletteIsShown=!1}}},[i("v-icon",{domProps:{textContent:t._s("mdi-check")}})],1)],1)],1)],1)],1),i("v-slide-item",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{text:"",tile:"",disabled:!t.isHistory},on:{click:t.resetCanva}},"v-btn",n,!1),r),[i("v-icon",{domProps:{textContent:t._s("mdi mdi-layers-remove")}})],1)]}}])},[i("span",{domProps:{textContent:t._s("Clear All")}})])],1)],2)],1)},G=[],K=(i("cb29"),i("4705")),X={name:"actionToolbarImageEditor",props:{canvaMode:{type:String},isImage:{type:Boolean},figuresPreSettings:{type:Object},isHistory:{type:Boolean},color:{type:String,default:"#000000"}},components:{vSelectStroke:K["default"]},data:function(){return{colorPaletteIsShown:!1,showImageSetting:!1,canva_modesArr:[{icon:"mdi-cursor-default-outline",title:"cursor default",mode:"none"},{icon:"mdi-brush",title:"brush",mode:"brush"},{icon:"mdi-shape-rectangle-plus",title:"rect",mode:"rect"},{icon:"mdi-shape-circle-plus",title:"circle",mode:"circle"},{icon:"mdi-vector-line",title:"line",mode:"vector"},{icon:"mdi-arrow-bottom-left",title:"arrow",mode:"arrow"},{icon:"mdi-format-text",title:"text",mode:"text"}]}},computed:{strokeWidth:function(){return Array(12).fill(null).map((function(t,e){return{text:"".concat(e+1,"px"),value:e+1}}))}},methods:{resetCanva:function(){this.$emit("reset-btn-click")},undoCanva:function(){this.$emit("undo-btn-click")},changeColor:function(t){console.log(t),this.$emit("change-color",t)}}},q=X,J=i("a609"),tt=i("b0af"),et=i("99d9"),it=i("03a4"),rt=i("132d"),nt=i("e449"),ot=i("7efd"),at=i("9dbe"),st=i("71d9"),ct=i("3a2f"),lt=Object(u["a"])(q,Z,G,!1,null,null,null),ut=lt.exports;g()(lt,{VBtn:f["a"],VBtnToggle:J["a"],VCard:tt["a"],VCardActions:et["a"],VColorPicker:it["a"],VIcon:rt["a"],VMenu:nt["a"],VSlideGroup:ot["a"],VSlideItem:at["a"],VSpacer:A["a"],VToolbar:st["a"],VTooltip:ct["a"]});var dt=i("8b21"),gt=i("0d249"),ht=i("3699"),ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-sheet",{staticClass:"debag-sheet"},[i("v-btn",{staticClass:"text-lowercase",attrs:{text:""},on:{click:function(e){t.is_debag=!t.is_debag}}},[i("v-icon",{domProps:{textContent:t._s(t.is_debag?"mdi-close-box-outline":"mdi-chevron-left")}}),t._v(" debag ")],1),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.is_debag,expression:"is_debag"}],staticClass:"pa-3"},t._l(t.debagCollection,(function(e,r){return i("li",{key:r},[t._v(" "+t._s(e)+" ")])})),0)],1)},mt=[],At={props:{debagCollection:{type:[Object,Array],required:!0}},data:function(){return{is_debag:!1}},computed:{}},pt=At,vt=(i("b108"),i("8dd9")),bt=Object(u["a"])(pt,ft,mt,!1,null,null,null),yt=bt.exports;g()(bt,{VBtn:f["a"],VIcon:rt["a"],VSheet:vt["a"]});var xt=void 0,wt={name:"imageEditor",components:{ActionToolbar:ut,ImageEditorWrapper:dt["default"],SpeedDialSettings:gt["default"],ImageLoaderDialog:ht["default"],DebagBlock:yt},props:{value:{type:Boolean},src:{type:String}},data:function(){return{is_debag:!1,konvaEvents:["mousedown","touchstart","mouseup","touchend","mousemove","touchmove","click","tap","wheel","keydown"],canva_mode:"rect",transformer_buttons:{rotater:{path:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><title>box-configurator-rotate</title><circle cx="8" cy="8" r="8" style="fill:#fff"/><path d="M0.9,0.5c0.1,0,0.3,0.1,0.3,0.3L1.1,2.9c1-1.4,2.6-2.4,4.5-2.4c2.9,0,5.3,2.4,5.3,5.3c0,2.9-2.4,5.3-5.3,5.3c-1.4,0-2.6-0.5-3.6-1.4c-0.1-0.1-0.1-0.3,0-0.4L2.3,9c0.1-0.1,0.3-0.1,0.4,0c0.7,0.7,1.7,1.1,2.8,1.1c2.3,0,4.2-1.9,4.2-4.2S7.8,1.7,5.5,1.7c-1.7,0-3.2,1-3.8,2.5l2.7-0.1c0.1,0,0.3,0.1,0.3,0.3v0.6c0,0.1-0.1,0.3-0.3,0.3H0.3C0.1,5.2,0,5.1,0,4.9V0.8c0-0.1,0.1-0.3,0.3-0.3H0.9z"/></svg>',shape:"rotater"},top_left:{path:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><title>box-configurator-transform</title><circle cx="8" cy="8" r="8" style="fill:#fff"/><path d="M.07,3.66v-3A.58.58,0,0,1,.65.07h3A.29.29,0,0,1,4,.36V.94a.29.29,0,0,1-.29.29H1.23V3.66A.29.29,0,0,1,.94,4H.36A.29.29,0,0,1,.07,3.66Zm7-3.3V.94a.29.29,0,0,0,.29.29H9.77V3.66a.29.29,0,0,0,.29.29h.58a.29.29,0,0,0,.29-.29v-3a.58.58,0,0,0-.58-.58h-3A.29.29,0,0,0,7.05.36Zm3.59,6.69h-.58a.29.29,0,0,0-.29.29V9.77H7.34a.29.29,0,0,0-.29.29v.58a.29.29,0,0,0,.29.29h3a.58.58,0,0,0,.58-.58v-3A.29.29,0,0,0,10.64,7.05ZM4,10.64v-.58a.29.29,0,0,0-.29-.29H1.23V7.34a.29.29,0,0,0-.29-.29H.36a.29.29,0,0,0-.29.29v3a.58.58,0,0,0,.58.58h3A.29.29,0,0,0,4,10.64Z"/></svg>',shape:"top-left"},top_right:{path:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><title>box-configurator-delete</title><circle cx="8" cy="8" r="8" style="fill:#fff"/><path d="M10.24,1.08v.66a.39.39,0,0,1-.36.36H1.12a.39.39,0,0,1-.36-.36V1.08A.39.39,0,0,1,1.12.72H3.64L3.82.3A.52.52,0,0,1,4.24,0h2.4a.61.61,0,0,1,.48.3L7.3.72H9.82C10.06.78,10.24.9,10.24,1.08ZM1.42,2.82h8.1V9.91a1.05,1.05,0,0,1-1,1H2.44a1.05,1.05,0,0,1-1-1ZM3.1,9.19a.39.39,0,0,0,.36.36.39.39,0,0,0,.36-.36V4.44a.39.39,0,0,0-.36-.36.39.39,0,0,0-.36.36Zm2,0a.36.36,0,0,0,.72,0V4.44a.36.36,0,1,0-.72,0Zm2,0a.36.36,0,0,0,.72,0V4.44a.36.36,0,0,0-.72,0Z"/></svg>',shape:"top-right"}},configKonva:{isInited:!1},imageConfig:{x:0,y:0,image:null,rotation:0,cachedRotation:0,draggable:!1,scale:{x:1,y:1},isLoaded:!1,src:null},image_original_width:0,image_original_height:0,color:"#B71C1C",selectedArea:null,brushArr:[],textArr:[],rectArr:[],circleArr:[],vectorArr:[],arrowArr:[],figuresPreSettings:{rect:{strokeWidth:4,filled:!1},arrow:{strokeWidth:4},vector:{strokeWidth:4},circle:{strokeWidth:4,filled:!1},brush:{strokeWidth:6},text:{textStyle:[],fontSize:16}},transformer:{},stepsHistory:[],currSelectedShape:null,isImageLoading:!1,isDragging:!1,isPainting:!1,isTextediting:!1,inputEditText:{value:"",node:null,index:null,id:null,style:{position:"absolute",top:"0px",left:"0px"}},figureActionsPosition:{x:0,y:0},speedDial:!1,dialogInformation:!1,shortUsageTutorial:["Dblclick on image to fit image to height / width","To change the scale of the image (zoom in / zoom out), use the mouse wheel up / down over the cursor on the image.","The image can be dragged if it has been scaled and the default cursore mode is selected.",'To add text to the scene - use "text" mode and click on the scene. All text elements are draggble.',"Dblclick on the text opens its editing."]}},computed:{konvaStageStyle:function(){return{border:"1px dashed red"}},btnFigureRemoveStyle:function(){return xt.showSelectedFigureSettingBtn?{position:"absolute",top:xt.currSelectedShape.x,left:xt.currSelectedShape.y}:""},brushPoints:function(){return[2,4,6,8,10,12,14,16].map((function(t){return{text:"".concat(t,"px"),value:t}}))},showSelectedFigureSettingBtn:function(){return!U()(this.transformer)},stage:function(){return this.$refs.stage.getStage()}},mounted:function(){var t=this;this.imageConfig.src=this.src,this.configKonva=Object(O["a"])(Object(O["a"])({},this.configKonva),{},{isInited:!0}),this.$nextTick((function(){t.imageLoad(),window.addEventListener("resize",t.fitStageIntoParentContainer)}))},methods:{transformerDestroy:function(){try{this.transformer.nodes([])}catch(t){console.log(t)}this.transformer=null,this.groupConfig=null},saveImage:function(){var t=this.$refs.mainLayer.getNode(),e=this.image_original_width/t.getClientRect().width,i=this.stage.toDataURL({pixelRatio:e,mimeType:"image/jpeg",quality:1});this.$emit("save-image",i),this.$emit("input",!1)},currSelectedShapeSet:function(t){var e=this;this.transformerDestroy();try{var i,r,n,o,a,s;(function(){e.currSelectedShape=e.$refs[t][0];var c=e.currSelectedShape.getNode(),l=e.$refs.mainLayer.getNode();for(i in e.groupConfig=new Y["default"].Group({fill:"#29A9E5"}),e.groupConfig.add(c),e.transformer=new Y["default"].Transformer({nodes:[c],borderDash:[4,3],anchorCornerRadius:5,anchorStrokeWidth:18,padding:16,keepRatio:!1,opacity:1,enabledAnchors:["top-right","top-left"],anchorFill:"#29A9E5",rotationSnaps:[0,90,180,270],rotateAnchorOffset:0,draggable:!0}),e.transformer_buttons)r=e.transformer_buttons[i].shape,n=e.transformer.findOne("."+r),o=i.replace("_","-"),a=e.transformer.padding()+5.25,s=new Y["default"].Path({fill:"white",data:e.transformer_buttons[i].path,name:o+"-icon"}),s.position(n.position()),"rotater"==o?(s.x(n.x()-5.25),s.y(n.y()-5.25)):"top-right"==o?(s.x(n.x()+a/2),s.y(n.y()-a)):"top-left"==o&&(s.x(n.x()-a),s.y(n.y()-a)),e.transformer.add(s),"top-right"==o&&(n.listening(!1),s.on("click",(function(){var t=c.attrs,i=t.id,r=t.figure_type;e.removeFigure(i,r)})));c.on("transform",(function(){for(var t in e.transformer.update(),e.transformer_buttons){var i=e.transformer_buttons[t].shape.replace("_","-"),r=e.transformer.findOne("."+i),n=e.transformer.findOne("."+i+"-icon"),o=e.transformer.padding()+5.25;n.position(r.position()),"rotater"==i?(n.x(r.x()-5.25),n.y(r.y()-5.25)):"top-right"==i?(n.x(r.x()+o/2),n.y(r.y()-o)):"top-left"==i&&(n.x(r.x()-o),n.y(r.y()-o)),l.batchDraw()}})),e.groupConfig.add(e.transformer),e.groupConfig.on("mouseenter",(function(){e.stage.content.style.cursor="move",l.draw()})),e.groupConfig.on("mouseleave",(function(){e.stage.content.style.cursor="default"})),l.add(e.groupConfig),l.batchDraw()})()}catch(c){this.currSelectedShape=null,console.log(c)}},fitStageIntoParentContainer:function(){},enventsHandlerSwitcher:function(t){"wheel"==t.type&&this.imageZoomOnWheel(t),"none"!=this.canva_mode&&("brush"==this.canva_mode?"mousedown"==t.type?this.brushStart(t):"mousemove"==t.type&&this.isPainting?this.brushProccessing(t):"mouseup"==t.type&&this.isPainting&&this.brushEnd(t):"rect"==this.canva_mode?"mousedown"==t.type?this.rectDrawStart(t):"mousemove"==t.type&&this.isPainting?this.rectDrawProccessing(t):"mouseup"==t.type&&this.isPainting&&this.rectDrawEnd(t):"circle"==this.canva_mode?"mousedown"==t.type?this.circleDrawStart(t):"mousemove"==t.type&&this.isPainting?this.circleDrawProccessing(t):"mouseup"==t.type&&this.isPainting&&this.circleDrawEnd(t):"vector"==this.canva_mode?"mousedown"==t.type?this.vectorStart(t):"mousemove"==t.type&&this.isPainting?this.vectorProccessing(t):"mouseup"==t.type&&this.isPainting&&this.vectorEnd(t):"arrow"==this.canva_mode?"mousedown"==t.type?this.arrowStart(t):"mousemove"==t.type&&this.isPainting?this.arrowProccessing(t):"mouseup"==t.type&&this.isPainting&&this.arrowEnd(t):"text"==this.canva_mode&&"click"==t.type?this.isTextediting?this.isTextediting&&(this.textInputEditSave(),this.isTextediting=!1):this.textInputAddText(t):"click"==t.type?(t.evt.stopPropagation(),console.log("click")):t.type)},selectAreaStart:function(){this.isPainting=!0;var t=this.stage.getPointerPosition();this.selectedArea={id:Date.now()+"_area",startPointX:t.x,startPointY:t.y,width:0,height:0,draggable:!0}},selectAreaEnd:function(){this.isPainting=!1,this.canva_mode="none"},selectAreaProccessing:function(){if(this.isPainting){var t=this.stage.getPointerPosition(),e=this.selectedArea;e.width=t.x-e.startPointX,e.height=t.y-e.startPointY,e.stroke="#000000"}},rectDrawStart:function(){this.isPainting=!0;var t=this.stage.getPointerPosition();this.rectArr=[].concat(Object(T["a"])(this.rectArr),[{id:Date.now()+"_rect",mode:"figure",figure_type:"rect",startPointX:t.x,startPointY:t.y,width:0,height:0,draggable:!0,fill:this.figuresPreSettings.rect.filled?this.color:"rgb(0,0,0,0)",stroke:this.color,strokeWidth:this.figuresPreSettings.rect.strokeWidth}])},rectDrawProccessing:function(){if(this.isPainting){var t=this.stage.getPointerPosition(),e=this.rectArr[this.rectArr.length-1];e.width=t.x-e.startPointX,e.height=t.y-e.startPointY}},rectDrawEnd:function(){this.isPainting=!1;var t=N()(this.rectArr),e=t.figure_type,i=t.id,r=t.width;r>0&&this.stepsHistory.push({figure_type:e,id:i}),this.canva_mode="none"},circleDrawStart:function(){this.isPainting=!0;var t=this.stage.getPointerPosition();this.circleArr=[].concat(Object(T["a"])(this.circleArr),[{id:Date.now()+"_circle",mode:"figure",figure_type:"circle",x:t.x,y:t.y,startPointX:t.x,startPointY:t.y,radius:0,draggable:!0,fill:this.figuresPreSettings.circle.filled?this.color:"rgb(0,0,0,0)",stroke:this.color,strokeWidth:this.figuresPreSettings.circle.strokeWidth}])},circleDrawEnd:function(){this.isPainting=!1;var t=N()(this.circleArr),e=t.figure_type,i=t.id;this.stepsHistory.push({figure_type:e,id:i}),this.canva_mode="none"},circleDrawProccessing:function(){if(this.isPainting){var t=this.stage.getPointerPosition(),e=this.circleArr[this.circleArr.length-1],i=Math.sqrt(Math.pow(e.startPointX-t.x,2)+Math.pow(e.startPointY-t.y,2));e.radius=i}},brushStart:function(){this.isPainting=!0,this.stage.content.style.cursor="crosshair";var t=this.stage.getPointerPosition();this.brushArr.push({id:Date.now()+"_brush",mode:"figure",figure_type:"brush",stroke:this.color,strokeWidth:this.figuresPreSettings.brush.strokeWidth,globalCompositeOperation:"source-over",lineCap:"round",points:[t.x,t.y,t.x,t.y]})},brushProccessing:function(t){if(this.isPainting){t.evt.preventDefault();var e=this.brushArr.length-1,i=this.brushArr[e],r=this.stage.getPointerPosition();i.points.push(r.x),i.points.push(r.y),this.$refs.mainLayer.getNode().batchDraw()}},brushEnd:function(){this.isPainting=!1;var t=N()(this.brushArr),e=t.figure_type,i=t.id;this.stepsHistory.push({figure_type:e,id:i}),this.stage.content.style.cursor="default",this.canva_mode="none"},vectorStart:function(){this.isPainting=!0,this.stage.content.style.cursor="crosshair";var t=this.stage.getPointerPosition();this.vectorArr.push({id:Date.now()+"_vector",mode:"figure",figure_type:"vector",stroke:this.color,strokeWidth:this.figuresPreSettings.vector.strokeWidth,globalCompositeOperation:"source-over",lineCap:"round",points:[t.x,t.y,t.x,t.y]})},vectorProccessing:function(t){if(this.isPainting){t.evt.preventDefault();var e=this.vectorArr.length-1,i=this.vectorArr[e],r=this.stage.getPointerPosition();i.points[2]=r.x,i.points[3]=r.y,this.$refs.mainLayer.getNode().batchDraw()}},vectorEnd:function(){this.isPainting=!1;var t=N()(this.vectorArr),e=t.figure_type,i=t.id;this.stepsHistory.push({figure_type:e,id:i}),this.stage.content.style.cursor="default",this.canva_mode="none"},arrowStart:function(){this.isPainting=!0,this.stage.content.style.cursor="crosshair";var t=this.stage.getPointerPosition();this.arrowArr.push({id:Date.now()+"_arrow",mode:"figure",figure_type:"arrow",stroke:this.color,fill:this.color,strokeWidth:this.figuresPreSettings.arrow.strokeWidth,points:[t.x,t.y]})},arrowProccessing:function(t){if(this.isPainting){t.evt.preventDefault();var e=this.arrowArr.length-1,i=this.arrowArr[e],r=this.stage.getPointerPosition();i.points[2]=r.x,i.points[3]=r.y,this.$refs.mainLayer.getNode().batchDraw()}},arrowEnd:function(){this.isPainting=!1;var t=N()(this.arrowArr),e=t.figure_type,i=t.id;this.stepsHistory.push({figure_type:e,id:i}),this.stage.content.style.cursor="default",this.canva_mode="none"},imageGetScaledCoordinates:function(t,e,i,r){var n=t/i,o=e/r,a=Math.min(n,o),s=Math.floor(i*a),c=Math.floor(r*a);return{newWidth:s,newHeight:c}},imageDblClickEnventHandlerImage:function(){this.imageConfig=Object(O["a"])(Object(O["a"])({},this.imageConfig),{},{width:this.configKonva.width,height:this.configKonva.height,x:0,y:0,draggable:!1,scale:{x:1,y:1}})},imageZoomOnWheel:function(t){var e=this;t.evt.preventDefault(),t.evt.stopPropagation();var i=this.$refs.baseimage.getNode(),r=i.scale().x,n=1.01,o=t.evt.deltaY>0?1:-1;t.evt.ctrlKey&&(o=-o);var a=o>0?r*n:r/n,s=this.stage.getPointerPosition(),c={x:(s.x-i.x())/r,y:(s.y-i.y())/r};a>2&&1==o?a=2:a<1&&-1==o&&(a=1);var l=function(){var t=i.getAbsolutePosition(),r=Math.max(t.x,e.stage.width()*(1-a)),n=Math.max(t.y,e.stage.height()*(1-a));return{x:r,y:n}};this.imageConfig=Object(O["a"])(Object(O["a"])({},this.imageConfig),{x:1==o?s.x-c.x*a:l().x,y:1==o?s.y-c.y*a:l().y,scale:{x:a,y:a},draggable:a>1,dragBoundFunc:function(t){var i=Math.min(0,Math.max(t.x,e.stage.width()*(1-a))),r=Math.min(0,Math.max(t.y,e.stage.height()*(1-a)));return{x:i,y:r}}})},imageSave:function(){var t=this;this.isImageLoading=!0,setTimeout((function(){var e=t.$refs.mainLayer.getNode(),i=t.image_original_width/e.getClientRect().width,r=t.stage.toDataURL({pixelRatio:i,mimeType:"image/jpeg",quality:1}),n=document.createElement("a");n.setAttribute("id","konva-image-downloader"),n.download="image.jpg",n.href=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),t.isImageLoading=!1}),500)},imageLoad:function(){var t=this,e=new window.Image;e.src=this.imageConfig.src,e.onload=function(){t.image_original_width=this.width,t.image_original_height=this.height;var i=document.getElementById("konva-stage-wrapper"),r=i.clientHeight-2,n=i.clientWidth-2,o=t.imageGetScaledCoordinates(n,r,this.width,this.height),a=o.newWidth,s=o.newHeight;t.configKonva=Object(O["a"])(Object(O["a"])({},t.configKonva),{},{width:a,height:s}),setTimeout((function(){t.imageConfig=Object(O["a"])(Object(O["a"])({},t.imageConfig),{},{width:a,height:s,image:e,isLoaded:!0,rotation:0})}),300),t.isImageLoading=!1}},imageRotation:function(t){var e=this;this.isImageLoading=!0;var i=this.$refs.baseimage.getNode();if(this.imageConfig.rotation=t,this.imageConfig.cachedRotation+=t,this.imageConfig.cachedRotation=this.imageConfig.cachedRotation%360,this.imageConfig.cachedRotation)this.$nextTick((function(){var t=e.$refs.mainLayer.getNode(),r=e.image_original_width/t.getClientRect().width,n=i.toDataURL({pixelRatio:r,mimeType:"image/jpeg",quality:1});e.imageConfig=Object(O["a"])(Object(O["a"])({},e.imageConfig),{},{src:n}),e.imageLoad()}));else{var r=this.src;this.imageConfig=Object(O["a"])(Object(O["a"])({},this.imageConfig),{},{src:r}),this.imageLoad()}},textInputAddText:function(){try{if("text"==this.currSelectedShape.getNode().attrs.figure_type)return}catch(i){console.log(i)}this.isTextediting=!0,this.inputEditText.value="",this.inputEditText.index=this.textArr.length;var t=this.stage.getPointerPosition(),e={top:t.y+"px",left:t.x+"px"};this.inputEditText.style=Object(O["a"])(Object(O["a"])({},this.inputEditText.style),e),this.textArr.push({id:Date.now()+"_text",mode:"figure",figure_type:"text",text:this.inputEditText.value,x:t.x+10,y:t.y,draggable:!0,fontSize:this.figuresPreSettings.text.fontSize,fill:this.color})},textInputEditHide:function(){var t=this;this.isTextediting=!1,null!=this.inputEditText.node&&setTimeout((function(){return t.inputEditText.node.show()}),100)},textInputEditSave:function(){this.textArr[this.inputEditText.index].text=this.inputEditText.value;var t=R()(this.textArr,{id:this.inputEditText.id});if(this.inputEditText.value.length>0&&void 0==t){var e=N()(this.textArr),i=e.figure_type,r=e.id;this.stepsHistory.push({figure_type:i,id:r})}this.inputEditText.value=null,this.textInputEditHide()},textInputBlur:function(){W()(this.inputEditText.value)>0&&this.textInputEditSave()},textInputEditKeydownEventHandler:function(t){13!==t.keyCode||t.shiftKey||this.textInputEditSave(),27===t.keyCode&&this.textInputEditHide()},textEdit:function(t,e){this.isTextediting=!0,this.transformerDestroy();var i=t.target;i.hide();var r=i.absolutePosition();this.inputEditText=Object(O["a"])(Object(O["a"])({},this.inputEditText),{},{id:this.textArr[e].id,value:i.text(),node:i,style:Object(O["a"])(Object(O["a"])({},this.inputEditText.style),{},{top:"".concat(r.y,"px"),left:"".concat(r.x,"px")}),index:e})},resetCanva:function(){this.brushArr=[],this.vectorArr=[],this.arrowArr=[],this.textArr=[],this.rectArr=[],this.circleArr=[],this.selectedArea=null,this.stepsHistory=[],this.currSelectedShape=null,this.canva_mode="none",this.transformerDestroy()},getFigureArray:function(t){var e;switch(t){case"rect":e=this.rectArr;break;case"brush":e=this.brushArr;break;case"vector":e=this.vectorArr;break;case"arrow":e=this.arrowArr;break;case"circle":e=this.circleArr;break;case"text":e=this.textArr;break;default:e=[];break}return e},undoCanva:function(){var t=N()(this.stepsHistory),e=t.id,i=t.figure_type;this.removeFigure(e,i),this.stepsHistory.pop()},removeSelectedFigure:function(){var t=H()(this.stepsHistory,{id:this.currSelectedShape.config.id}),e=this.stepsHistory[t],i=e.id,r=e.figure_type;this.removeFigure(i,r),this.stepsHistory.splice(t,1)},removeFigure:function(t,e){var i=this.getFigureArray(e);if(!U()(this.transformer)){var r=this.transformer.nodes();r=r.filter((function(e){return e.attrs.id!==t})),r.length?this.transformer.nodes(r):(this.transformer.destroy(),this.transformer=null,this.groupConfig.destroy(),this.groupConfig=null)}!U()(this.currSelectedShape)&&"config"in this.currSelectedShape&&this.currSelectedShape.config.id==t&&(this.currSelectedShape=null);var n=H()(i,{id:t});i.splice(n,1),this.stage.content.style.cursor="default"}},watch:{canva_mode:function(t){var e=this.$refs.baseimage.getNode(),i=e.scale().x;this.imageConfig="none"==t?Object(O["a"])(Object(O["a"])({},this.imageConfig),{},{draggable:i>1}):Object(O["a"])(Object(O["a"])({},this.imageConfig),{},{draggable:!1})}}},kt=wt,St=i("0789"),_t=i("a844"),Pt=Object(u["a"])(kt,B,V,!1,null,null,null),Ct=Pt.exports;g()(Pt,{VScaleTransition:St["d"],VTextarea:_t["a"]});var It={name:"Home",components:{ImageEditor:Ct},data:function(){return{imageEditorModel:!1,isValid:!0}},computed:{img:function(){return this.$store.getters.src},lazySrc:function(){return this.$store.getters.lazySrc},isMobile:function(){return this.$vuetify.breakpoint.mobile},validatorRules:function(){var t=this;return[function(e){return t.isValid=!e||e.size<2e6,!e||e.size<2e6||"Image size should be less than 2 MB!"}]}},mounted:function(){},methods:{showPhotoInfoDialog:function(){this.isValid&&(this.imageEditorModel=!0)},fileInputChangeHandler:function(t){t?this.$store.commit("set_src",URL.createObjectURL(t)):this.$store.commit("reset_src")},imageEditorUpdateImage:function(t){this.$store.commit("set_src",t)}}},Et=It,Mt=(i("684d"),i("62ad")),jt=i("23a7"),Dt=i("ce87"),Bt=i("0fd9"),Vt=i("269a"),Tt=i.n(Vt),Ot=i("5607"),Lt=Object(u["a"])(Et,j,D,!1,null,"0f566ab6",null),Ht=Lt.exports;g()(Lt,{VBtn:f["a"],VCol:Mt["a"],VFileInput:jt["a"],VHover:Dt["a"],VIcon:rt["a"],VImg:m["a"],VRow:Bt["a"],VScaleTransition:St["d"],VSheet:vt["a"]}),Tt()(Lt,{Ripple:Ot["a"]}),r["default"].use(M["a"]);var $t=[{path:"/",name:"Home",component:Ht},{path:"/about",name:"About",component:function(){return i.e("about").then(i.bind(null,"f820"))}}],Wt=new M["a"]({mode:"history",base:"/vue-image-editor/",routes:$t}),Qt=Wt,Rt=i("2f62");r["default"].use(Rt["a"]);var Ft=new Rt["a"].Store({state:{default_src:i("6cc2"),src:i("6cc2"),lazySrc:i("8ffc")},mutations:{set_src:function(t,e){t.src=e},reset_src:function(t){t.src=t.default_src}},getters:{src:function(t){return t.src},lazySrc:function(t){return t.lazySrc}}});r["default"].use(E.a),r["default"].config.productionTip=!1,new r["default"]({vuetify:C,router:Qt,store:Ft,render:function(t){return t(_)}}).$mount("#app")},"684d":function(t,e,i){"use strict";i("8eed")},"6cc2":function(t,e,i){t.exports=i.p+"img/default-1920x1080.fde3a768.jpg"},"76ea":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-speed-dial",{attrs:{value:t.value,absolute:"",top:"",right:"",direction:"bottom",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[i("v-btn",{attrs:{value:t.value,color:"secondary",elevation:"2",fab:""}},[t.value?i("v-icon",[t._v(" mdi-close ")]):i("v-icon",[t._v(" mdi-cog ")])],1),i("v-dialog",{attrs:{transition:"dialog-top-transition","hide-overlay":"","max-width":"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("v-card",[i("v-card-text",[i("v-list",{attrs:{dense:""}},[i("v-subheader",[t._v("Short tut")]),t._l(t.listItems,(function(e,r){return i("v-list-item",{key:r},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e)}})],1)],1)}))],2)],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[i("v-icon",{domProps:{textContent:t._s("mdi-check")}})],1)],1)],1)]}}]),model:{value:t.dialogInformation,callback:function(e){t.dialogInformation=e},expression:"dialogInformation"}})]},proxy:!0}])},[i("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green",loading:t.isImageLoading},on:{click:function(e){return t.$emit("image-save")}}},[i("v-icon",[t._v("mdi-download")])],1),i("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){t.dialogInformation=!0}}},[i("v-icon",{domProps:{textContent:t._s("mdi-information-variant")}})],1)],1)},n=[]},"7a15":function(t,e,i){"use strict";var r=i("ecd5"),n=i.n(r);e["default"]=n.a},"7fa3":function(t,e,i){i("a9e3"),t.exports={props:{value:{type:Number},items:Array,strokeCircle:{type:Boolean,default:!1},strokeColor:{type:String,default:"#000000"}},methods:{strokeStyle:function(t){return{display:"block",alignSelf:"center",margin:"8px",background:this.strokeColor,height:t+"px",borderRadius:this.strokeCircle?"50%":"0",width:this.strokeCircle?t+"px":"36px"}}}}},8025:function(t,e){t.exports={name:"speedDialSettings",props:{value:{type:Boolean},isImageLoading:{type:Boolean},listItems:{type:Array,default:[]}},data:function(){return{dialogInformation:!1}}}},"8b21":function(t,e,i){"use strict";var r=i("261b"),n=i("7a15"),o=i("2877"),a=i("6544"),s=i.n(a),c=i("8336"),l=i("b0af"),u=i("169a"),d=i("132d"),g=i("8dd9"),h=i("2fa4"),f=i("71d9"),m=i("2a7f"),A=Object(o["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=A.exports,s()(A,{VBtn:c["a"],VCard:l["a"],VDialog:u["a"],VIcon:d["a"],VSheet:g["a"],VSpacer:h["a"],VToolbar:f["a"],VToolbarTitle:m["a"]})},"8eed":function(t,e,i){},"8ffc":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QDeRXhpZgAASUkqAAgAAAAGABIBAwABAAAAAQAAABoBBQABAAAAVgAAABsBBQABAAAAXgAAACgBAwABAAAAAgAAABMCAwABAAAAAQAAAGmHBAABAAAAZgAAAAAAAAA4YwAA6AMAADhjAADoAwAABwAAkAcABAAAADAyMTABkQcABAAAAAECAwCGkgcAFQAAAMAAAAAAoAcABAAAADAxMDABoAMAAQAAAP//AAACoAQAAQAAAAoAAAADoAQAAQAAAAYAAAAAAAAAQVNDSUkAAABQaWNzdW0gSUQ6IDExAP/bAEMACAYGBwYFCAcHBwkJCAoMFA0MCwsMGRITDxQdGh8eHRocHCAkLicgIiwjHBwoNyksMDE0NDQfJzk9ODI8LjM0Mv/bAEMBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/CABEIAAYACgMBIgACEQEDEQH/xAAWAAEBAQAAAAAAAAAAAAAAAAAAAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABrIMv/8QAGRAAAgMBAAAAAAAAAAAAAAAAAwQAAgUV/9oACAEBAAEFAl9U1Q9dif/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aa//xAAaEAACAgMAAAAAAAAAAAAAAAAAAwGhESMy/9oACAEBAAY/AtuGVJwqz//EABoQAAICAwAAAAAAAAAAAAAAAAERAEGxwdH/2gAIAQEAAT8hZgTZyQv1dT//2gAMAwEAAgADAAAAEHf/xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAwEBPxBL/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQIBAT8QUX//xAAaEAEBAAIDAAAAAAAAAAAAAAABEQAhMXGR/9oACAEBAAE/EH4LUKnY0+ZUhF4pMf/Z"},b108:function(t,e,i){"use strict";i("e791")},b883:function(t,e,i){"use strict";var r=i("f752"),n=i.n(r);e["default"]=n.a},e791:function(t,e,i){},ecd5:function(t,e){t.exports={name:"imageEditorWrapperComponent",props:{value:Boolean,saveBtnIsDisabled:Boolean},data:function(){return{text:{}}},computed:{konvaWrapperStyle:function(){return{display:"flex",backgroundColor:"#e0e0e0",height:"-webkit-fill-available"}},titleSlot:function(){return!!this.$slots.title}},methods:{clickSave:function(){this.$emit("save-image")},closeDialog:function(){this.$emit("close-dialog")}}}},eed0:function(t,e,i){"use strict";var r=i("7fa3"),n=i.n(r);e["default"]=n.a},f752:function(t,e){t.exports={name:"imageLoaderDialogComponent",props:{value:{type:Boolean}},data:function(){return{}}}},f768:function(t,e,i){"use strict";var r=i("8025"),n=i.n(r);e["default"]=n.a},fc03:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{value:t.value,"hide-overlay":"",persistent:"",width:"300"}},[i("v-card",{attrs:{color:"primary",dark:""}},[i("v-card-text",[t._v(" Please stand by "),i("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},n=[]}});
//# sourceMappingURL=app.4fac66b3.js.map